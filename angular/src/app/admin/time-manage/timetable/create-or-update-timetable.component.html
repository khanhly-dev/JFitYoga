<form nz-form [formGroup]="createOrUpdateForm">


    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Lớp</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock else elseBlock"></div>
            <ng-template #thenBlock>
                <nz-select style="width: 100%;" nzShowSearch [(ngModel)]="timeTableBinding.classId"
                    formControlName="classId">
                    <nz-option *ngFor="let item of classList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #elseBlock>
                <nz-select style="width: 100%;" nzShowSearch formControlName="classId">
                    <nz-option *ngFor="let item of classList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #userErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                    giá trị bắt buộc
                </ng-container>
            </ng-template>
        </nz-form-control>
    </nz-form-item>


    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Giáo viên</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock1 else elseBlock1"></div>
            <ng-template #thenBlock1>
                <nz-select style="width: 100%;" nzShowSearch [(ngModel)]="timeTableBinding.employeeId"
                    formControlName="employeeId">
                    <nz-option *ngFor="let item of teacherList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #elseBlock1>
                <nz-select style="width: 100%;" nzShowSearch formControlName="employeeId">
                    <nz-option *ngFor="let item of teacherList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #userErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                    giá trị bắt buộc
                </ng-container>
            </ng-template>
        </nz-form-control>
    </nz-form-item>



    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Ca</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock2 else elseBlock2"></div>
            <ng-template #thenBlock2>
                <nz-select style="width: 100%;" nzShowSearch [(ngModel)]="timeTableBinding.sessionId"
                    formControlName="sessionId">
                    <nz-option *ngFor="let item of sessionList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #elseBlock2>
                <nz-select style="width: 100%;" nzShowSearch formControlName="sessionId">
                    <nz-option *ngFor="let item of sessionList" [nzLabel]="item.name" [nzValue]="item.id">
                    </nz-option>
                </nz-select>
            </ng-template>
            <ng-template #userErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                    giá trị bắt buộc
                </ng-container>
            </ng-template>
        </nz-form-control>
    </nz-form-item>


    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Thứ</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock3 else elseBlock3"></div>
            <ng-template #thenBlock3>
                <input nz-input [(ngModel)]="dayName" formControlName="day"/>
            </ng-template>
            <ng-template #elseBlock3>
                <input nz-input [(ngModel)]="dayName" formControlName="day"/>
            </ng-template>
        </nz-form-control>
    </nz-form-item>


    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Bài học</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock4 else elseBlock4"></div>
            <ng-template #thenBlock4>
                <input nz-input formControlName="lesson" [(ngModel)]="timeTableBinding.lesson" />
            </ng-template>
            <ng-template #elseBlock4>
                <input nz-input formControlName="lesson" />
            </ng-template>
        </nz-form-control>
    </nz-form-item>



    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Ngày</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
            <div *ngIf="timeTableBinding != undefined; then thenBlock5 else elseBlock5"></div>
            <ng-template #thenBlock5>
                <input nz-input type="date" formControlName="date" [(ngModel)]="timeTableBinding.date" #dayInput (change)="onChange(dayInput.value)"/>
            </ng-template>
            <ng-template #elseBlock5>
                <input nz-input type="date" formControlName="date" #dayInput (change)="onChange(dayInput.value)"/>
            </ng-template>

            <ng-template #userErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                    giá trị bắt buộc
                </ng-container>
            </ng-template>
         
        </nz-form-control>
    </nz-form-item>


    <nz-form-control [nzOffset]="7" [nzSpan]="12">
        <button nz-button nzType="primary" [disabled]="!createOrUpdateForm.valid"
            (click)="submitForm(createOrUpdateForm.value)">Lưu</button>
        &nbsp;
        <button nz-button (click)="closeForm();">Đóng</button>
    </nz-form-control>

</form>